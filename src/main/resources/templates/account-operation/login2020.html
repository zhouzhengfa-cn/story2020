<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <title>story,login,2020</title>
    <!-- <title>Hello, world!</title> -->
    <style>
        html,
        body {
            background-color: black;
            color: red;
        }
        
        p {
            text-align: center;
        }
    </style>
</head>

<body>
    <!-- <h1>Hello, world!</h1> -->
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <div class="container-fluid" style="padding-top: 2rem;">
        <div class="row justify-content-center">
            <div class="col-12 col-sm-6">
                <div class="jumbotron jumbotron-fluid" style="border-radius: 2rem;color: black;background-color: white;">
                    <h1 class="display-4" style="text-align: center;">
                        <strong>
                            <span>登陆</span>
                        </strong>
                    </h1>
                    <p class="lead" style="text-align: right;">
                        <button class="btn btn-success" type="button" onclick="window.location.href='/'">
                            <span>首页</span>
                        </button>
                    </p>
                    <!-- <p class="lead">Subtitle</p> -->
                    <hr class="my-4">
                    <!-- <p>Content</p> -->
                    <div class="container-fluid">
                        <!-- name input,,, -->
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <b>名称：</b>
                                </span>
                            </div>
                            <input id="inputName" class="form-control" type="text" name="" placeholder="name," aria-label="name text" aria-describedby="#btn01">
                            <div class="input-group-append" id="btn01" style="display: none;">
                                <button id="btnLoading01" class="btn btn-light" type="button" disabled>
                                    <span id="btnNameLoading" class="spinner-border text-danger" style="width: 1rem;height: 1rem;" role="status" aria-hidden="true"></span>
                                </button>
                            </div>
                        </div>
                        <p>
                            <span id="inputNameTip">&nbsp;</span>
                        </p>
                        <!-- password input group -->
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">密码：</span>
                            </div>
                            <input class="form-control" type="password" name="" placeholder="password your." aria-label="password your.">
                            <div class="input-group-append">
                                <!-- <span class="input-group-text">Text</span> -->
                                <button class="btn btn-default" type="button">
                                    <span class="spinner-border text-primary" style="width: 1rem;height: 1rem;"></span>
                                </button>
                            </div>
                        </div>
                        <p>
                            <span>&nbsp;</span>
                        </p>
                        <!-- 登陆按钮，忘记密码，注册 -->
                        <div style="text-align: center;">
                            <div class="btn-group" role="group" aria-label="btn group">
                                <button class="btn btn-secondary" type="button">登陆</button>
                                <button class="btn btn-primary" type="button">注册</button>
                                <button class="btn btn-success" type="button">忘记密码</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
    <script>
        $(function() {
            console.log('start listen input name.');
            $('#inputName').focusout(function() {
                console.log('leave input account.');
                $('#inputNameTip').get(0).innerHTML = '正在检查用户存在与否.....'
                $('#btn01').css('display', 'block')
                $.ajax({
                    url: '/judge-user-is-exist-by-name2020',
                    method: 'post',
                    data: {
                        name: $('#inputName').val()
                    },
                    success: function(data01) {
                        console.log('交互ok:' + data01);
                        if (data01 == true) {
                            $('#inputNameTip').get(0).innerHTML = '该用户存在' + '&radic;'
                            $('#btnNameLoading').attr('class', $('#btnNameLoading').attr('class').replace("spinner-border", 'spinner-grow-1'))
                        } else {
                            $('#inputNameTip').get(0).innerHTML = '该用户不存在' + '&times;'
                            $('#btnNameLoading').attr('class', $('#btnNameLoading').attr('class').replace("spinner-grow-1", 'spinner-border'))
                            $('#btn01').css('display', 'none')
                        }

                    },
                    error: function(data02) {
                        console.log('交互失败：' + data02);
                    }
                })
            })
            console.log('listen to password.');
            // 密码的话。正则表达式怎么写？这个得完整学一下。2020，1103，0506AM。
        })
    </script>
</body>

</html>